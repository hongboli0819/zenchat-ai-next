<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>å°çº¢ä¹¦æ­£æ–‡æ¨¡ç‰ˆ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
      background: #000;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 20px;
    }

    /* ========== å°çº¢ä¹¦æ­£æ–‡å®¹å™¨ ========== */
    .xhs-post {
      width: 100%;
      max-width: 420px;
      background: #fff;
      border-radius: 0;
      overflow: hidden;
      position: relative;
    }

    /* ========== é¡¶éƒ¨å¯¼èˆªæ  ========== */
    .xhs-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: #fff;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .xhs-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .xhs-back-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #333;
      cursor: pointer;
    }

    .xhs-user-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .xhs-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
      background: #f0f0f0;
    }

    .xhs-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .xhs-username {
      font-size: 15px;
      font-weight: 600;
      color: #333;
    }

    .xhs-header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .xhs-follow-btn {
      padding: 6px 16px;
      background: transparent;
      border: 1.5px solid #ff2442;
      border-radius: 20px;
      color: #ff2442;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .xhs-follow-btn:hover {
      background: #ff2442;
      color: #fff;
    }

    .xhs-share-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #333;
      cursor: pointer;
    }

    /* ========== å›¾ç‰‡è½®æ’­åŒºåŸŸ ========== */
    .xhs-carousel {
      position: relative;
      width: 100%;
      background: #f5f5f5;
      cursor: pointer;
    }

    .xhs-carousel-inner {
      position: relative;
      width: 100%;
      overflow: hidden;
    }

    .xhs-carousel-track {
      display: flex;
      transition: transform 0.3s ease;
      align-items: flex-start; /* å›¾ç‰‡é¡¶éƒ¨å¯¹é½ï¼Œé«˜åº¦è‡ªé€‚åº” */
    }

    .xhs-carousel-slide {
      min-width: 100%;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    .xhs-carousel-slide img {
      width: 100%;
      height: auto;
      display: block;
      /* å›¾ç‰‡ä¿æŒåŸå§‹æ¯”ä¾‹ï¼Œå®½åº¦100%è‡ªé€‚åº” */
    }

    /* å›¾ç‰‡è®¡æ•°å™¨ */
    .xhs-carousel-counter {
      position: absolute;
      top: 16px;
      right: 16px;
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      z-index: 10;
    }

    /* ç‚¹å‡»åŒºåŸŸ */
    .xhs-carousel-prev,
    .xhs-carousel-next {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 30%;
      z-index: 5;
      cursor: pointer;
    }

    .xhs-carousel-prev {
      left: 0;
    }

    .xhs-carousel-next {
      right: 0;
    }

    /* æŒ‡ç¤ºç‚¹ */
    .xhs-carousel-dots {
      display: flex;
      justify-content: center;
      gap: 6px;
      padding: 12px 0;
      background: #fff;
    }

    .xhs-carousel-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #ddd;
      transition: all 0.2s;
    }

    .xhs-carousel-dot.active {
      background: #ff2442;
    }

    /* ========== å†…å®¹åŒºåŸŸ ========== */
    .xhs-content {
      padding: 16px;
      background: #fff;
    }

    .xhs-title {
      font-size: 18px;
      font-weight: 700;
      color: #222;
      line-height: 1.4;
      margin-bottom: 12px;
    }

    .xhs-description {
      font-size: 15px;
      color: #333;
      line-height: 1.7;
      white-space: pre-wrap;
      word-break: break-word;
    }

    /* ========== ç¼–è¾‘é¢æ¿ ========== */
    .edit-panel {
      width: 100%;
      max-width: 420px;
      margin-top: 20px;
      padding: 20px;
      background: #1a1a1a;
      border-radius: 12px;
    }

    .edit-panel h3 {
      font-size: 14px;
      color: #fff;
      margin-bottom: 16px;
      padding-bottom: 10px;
      border-bottom: 1px solid #333;
    }

    .edit-panel label {
      display: block;
      font-size: 12px;
      color: #aaa;
      margin-bottom: 6px;
    }

    .edit-panel input,
    .edit-panel textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #333;
      border-radius: 8px;
      font-size: 14px;
      margin-bottom: 16px;
      background: #2a2a2a;
      color: #fff;
      transition: border-color 0.2s;
    }

    .edit-panel input:focus,
    .edit-panel textarea:focus {
      outline: none;
      border-color: #ff2442;
    }

    .edit-panel textarea {
      min-height: 100px;
      resize: vertical;
    }

    .edit-panel .image-list {
      margin-bottom: 16px;
    }

    .edit-panel .image-item {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
    }

    .edit-panel .image-item input {
      margin-bottom: 0;
      flex: 1;
    }

    .edit-panel .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .edit-panel .btn:hover {
      opacity: 0.8;
    }

    .edit-panel .btn-add {
      background: #ff2442;
      color: #fff;
    }

    .edit-panel .btn-remove {
      background: #444;
      color: #fff;
      padding: 8px 12px;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    @media (max-width: 480px) {
      body {
        padding: 0;
      }
      .edit-panel {
        border-radius: 0;
        margin-top: 0;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <!-- ========== å°çº¢ä¹¦æ­£æ–‡ ========== -->
  <div class="xhs-post" id="post">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="xhs-header">
      <div class="xhs-header-left">
        <div class="xhs-back-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </div>
        <div class="xhs-user-info">
          <div class="xhs-avatar">
            <img id="avatarImage" src="https://picsum.photos/100/100?random=1" alt="å¤´åƒ">
          </div>
          <span class="xhs-username" id="username">CCæ²ªç›¸å¯“</span>
        </div>
      </div>
      <div class="xhs-header-right">
        <button class="xhs-follow-btn">å…³æ³¨</button>
        <div class="xhs-share-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13"/>
          </svg>
        </div>
      </div>
    </div>

    <!-- å›¾ç‰‡è½®æ’­ -->
    <div class="xhs-carousel" id="carousel">
      <div class="xhs-carousel-inner">
        <div class="xhs-carousel-track" id="carouselTrack">
          <!-- å›¾ç‰‡ä¼šé€šè¿‡ JS åŠ¨æ€æ·»åŠ  -->
        </div>
      </div>
      <div class="xhs-carousel-counter" id="counter">1/6</div>
      <div class="xhs-carousel-prev" id="prevArea"></div>
      <div class="xhs-carousel-next" id="nextArea"></div>
    </div>

    <!-- æŒ‡ç¤ºç‚¹ -->
    <div class="xhs-carousel-dots" id="dots"></div>

    <!-- å†…å®¹åŒºåŸŸ -->
    <div class="xhs-content">
      <h1 class="xhs-title" id="postTitle">ä¸Šæµ·è½¬ç§Ÿï¼ˆç‡ƒæ°”å°æˆ·å‹ï¼‰ä¸€æˆ¿ä¸€å… 2500!</h1>
      <div class="xhs-description" id="postDescription">1.ä¸­ä»‹å‹¿æ‰°è°¢è°¢å“ˆï¼Œä¸éœ€è¦ä½ ä»¬ä»£ç†ï¼Œè‡ªå®¶æˆ¿å­å‡ºç§Ÿï¼Œæ²¡æœ‰ä¸­ä»‹è´¹ï¼Œè‡ªå·±çš„äººæ‰“ç†ï¼Œå®‰å…¨æ€§éå¸¸å¥½ã€‚

2.å¯ä»¥çŸ­ç§Ÿï¼ˆ3ä¸ªæœˆï¼‰ï¼ŒäºŒä¸ªæœˆåˆ°ä¸€å¹´éƒ½å¯ä»¥ï¼ŒæŠ¼ä¸€ä»˜ä¸€ï¼ŒæŠ¼é‡‘å¯é€€ã€‚

3.æˆ¿é—´é…ç½®ï¼šç©ºè°ƒã€å†°ç®±ã€æ´—è¡£æœºã€çƒ­æ°´å™¨ã€åºŠã€è¡£æŸœã€ä¹¦æ¡Œã€æ¤…å­ã€‚

4.ä½ç½®ï¼šä¸Šæµ·å¸‚é™å®‰åŒºï¼Œé è¿‘åœ°é“ç«™ï¼Œäº¤é€šä¾¿åˆ©ï¼Œå‘¨è¾¹é…å¥—é½å…¨ã€‚

5.ä»·æ ¼ï¼š2500/æœˆï¼Œæ°´ç”µè´¹è‡ªç†ï¼Œç‰©ä¸šè´¹å·²åŒ…å«ã€‚

6.å…¥ä½æ—¶é—´ï¼šéšæ—¶å¯å…¥ä½ï¼Œæ¬¢è¿çœ‹æˆ¿ï¼

è”ç³»æ–¹å¼ï¼šç§ä¿¡æˆ‘ï½</div>
    </div>
  </div>

  <!-- ========== ç¼–è¾‘é¢æ¿ ========== -->
  <div class="edit-panel">
    <h3>ğŸ¨ å¿«é€Ÿç¼–è¾‘ï¼ˆå®æ—¶é¢„è§ˆï¼‰</h3>
    
    <label>å¤´åƒ URL</label>
    <input type="text" id="inputAvatar" placeholder="è¾“å…¥å¤´åƒé“¾æ¥" value="https://picsum.photos/100/100?random=1">
    
    <label>ç”¨æˆ·æ˜µç§°</label>
    <input type="text" id="inputUsername" placeholder="è¾“å…¥æ˜µç§°" value="CCæ²ªç›¸å¯“">
    
    <label>å›¾ç‰‡åˆ—è¡¨ï¼ˆç‚¹å‡»å›¾ç‰‡å·¦å³åŒºåŸŸåˆ‡æ¢ï¼‰</label>
    <div class="image-list" id="imageList">
      <!-- å›¾ç‰‡è¾“å…¥é¡¹ä¼šé€šè¿‡ JS åŠ¨æ€æ·»åŠ  -->
    </div>
    <button class="btn btn-add" id="addImageBtn">+ æ·»åŠ å›¾ç‰‡</button>
    
    <label style="margin-top: 16px;">æ ‡é¢˜</label>
    <input type="text" id="inputTitle" placeholder="è¾“å…¥æ ‡é¢˜" value="ä¸Šæµ·è½¬ç§Ÿï¼ˆç‡ƒæ°”å°æˆ·å‹ï¼‰ä¸€æˆ¿ä¸€å… 2500!">
    
    <label>æ­£æ–‡å†…å®¹</label>
    <textarea id="inputDescription" placeholder="è¾“å…¥æ­£æ–‡å†…å®¹">1.ä¸­ä»‹å‹¿æ‰°è°¢è°¢å“ˆï¼Œä¸éœ€è¦ä½ ä»¬ä»£ç†ï¼Œè‡ªå®¶æˆ¿å­å‡ºç§Ÿï¼Œæ²¡æœ‰ä¸­ä»‹è´¹ï¼Œè‡ªå·±çš„äººæ‰“ç†ï¼Œå®‰å…¨æ€§éå¸¸å¥½ã€‚

2.å¯ä»¥çŸ­ç§Ÿï¼ˆ3ä¸ªæœˆï¼‰ï¼ŒäºŒä¸ªæœˆåˆ°ä¸€å¹´éƒ½å¯ä»¥ï¼ŒæŠ¼ä¸€ä»˜ä¸€ï¼ŒæŠ¼é‡‘å¯é€€ã€‚

3.æˆ¿é—´é…ç½®ï¼šç©ºè°ƒã€å†°ç®±ã€æ´—è¡£æœºã€çƒ­æ°´å™¨ã€åºŠã€è¡£æŸœã€ä¹¦æ¡Œã€æ¤…å­ã€‚

4.ä½ç½®ï¼šä¸Šæµ·å¸‚é™å®‰åŒºï¼Œé è¿‘åœ°é“ç«™ï¼Œäº¤é€šä¾¿åˆ©ï¼Œå‘¨è¾¹é…å¥—é½å…¨ã€‚

5.ä»·æ ¼ï¼š2500/æœˆï¼Œæ°´ç”µè´¹è‡ªç†ï¼Œç‰©ä¸šè´¹å·²åŒ…å«ã€‚

6.å…¥ä½æ—¶é—´ï¼šéšæ—¶å¯å…¥ä½ï¼Œæ¬¢è¿çœ‹æˆ¿ï¼

è”ç³»æ–¹å¼ï¼šç§ä¿¡æˆ‘ï½</textarea>
  </div>
</div>

<script>
  // ========== çŠ¶æ€ç®¡ç† ==========
  let images = [
    'https://picsum.photos/800/1200?random=1',
    'https://picsum.photos/800/1200?random=2',
    'https://picsum.photos/800/1200?random=3',
    'https://picsum.photos/800/1200?random=4',
    'https://picsum.photos/800/1200?random=5',
    'https://picsum.photos/800/1200?random=6',
  ];
  let currentIndex = 0;

  // ========== DOM å…ƒç´  ==========
  const carouselTrack = document.getElementById('carouselTrack');
  const counter = document.getElementById('counter');
  const dots = document.getElementById('dots');
  const prevArea = document.getElementById('prevArea');
  const nextArea = document.getElementById('nextArea');
  const imageList = document.getElementById('imageList');

  // ========== æ¸²æŸ“è½®æ’­å›¾ ==========
  function renderCarousel() {
    // æ¸²æŸ“å›¾ç‰‡
    carouselTrack.innerHTML = images.map((src, index) => `
      <div class="xhs-carousel-slide">
        <img src="${src}" alt="å›¾ç‰‡${index + 1}">
      </div>
    `).join('');

    // æ¸²æŸ“æŒ‡ç¤ºç‚¹
    dots.innerHTML = images.map((_, index) => `
      <div class="xhs-carousel-dot ${index === currentIndex ? 'active' : ''}" data-index="${index}"></div>
    `).join('');

    // æ›´æ–°è®¡æ•°å™¨
    updateCounter();

    // ç»‘å®šæŒ‡ç¤ºç‚¹ç‚¹å‡»äº‹ä»¶
    dots.querySelectorAll('.xhs-carousel-dot').forEach(dot => {
      dot.addEventListener('click', (e) => {
        goToSlide(parseInt(e.target.dataset.index));
      });
    });
  }

  // ========== åˆ‡æ¢åˆ°æŒ‡å®šå›¾ç‰‡ ==========
  function goToSlide(index) {
    if (index < 0) index = 0;
    if (index >= images.length) index = images.length - 1;
    currentIndex = index;
    carouselTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
    updateCounter();
    updateDots();
  }

  function updateCounter() {
    counter.textContent = `${currentIndex + 1}/${images.length}`;
  }

  function updateDots() {
    dots.querySelectorAll('.xhs-carousel-dot').forEach((dot, index) => {
      dot.classList.toggle('active', index === currentIndex);
    });
  }

  // ========== ä¸Šä¸€å¼ /ä¸‹ä¸€å¼  ==========
  prevArea.addEventListener('click', () => {
    if (currentIndex > 0) {
      goToSlide(currentIndex - 1);
    }
  });

  nextArea.addEventListener('click', () => {
    if (currentIndex < images.length - 1) {
      goToSlide(currentIndex + 1);
    }
  });

  // ========== æ¸²æŸ“å›¾ç‰‡è¾“å…¥åˆ—è¡¨ ==========
  function renderImageInputs() {
    imageList.innerHTML = images.map((src, index) => `
      <div class="image-item">
        <input type="text" value="${src}" data-index="${index}" placeholder="å›¾ç‰‡ ${index + 1} URL">
        <button class="btn btn-remove" data-index="${index}">âœ•</button>
      </div>
    `).join('');

    // ç»‘å®šè¾“å…¥äº‹ä»¶
    imageList.querySelectorAll('input').forEach(input => {
      input.addEventListener('input', (e) => {
        const index = parseInt(e.target.dataset.index);
        images[index] = e.target.value;
        renderCarousel();
      });
    });

    // ç»‘å®šåˆ é™¤äº‹ä»¶
    imageList.querySelectorAll('.btn-remove').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const index = parseInt(e.target.dataset.index);
        if (images.length > 1) {
          images.splice(index, 1);
          if (currentIndex >= images.length) {
            currentIndex = images.length - 1;
          }
          renderImageInputs();
          renderCarousel();
        }
      });
    });
  }

  // ========== æ·»åŠ å›¾ç‰‡ ==========
  document.getElementById('addImageBtn').addEventListener('click', () => {
    const newIndex = images.length + 1;
    images.push(`https://picsum.photos/800/1200?random=${Date.now()}`);
    renderImageInputs();
    renderCarousel();
  });

  // ========== å…¶ä»–è¾“å…¥äº‹ä»¶ ==========
  document.getElementById('inputAvatar').addEventListener('input', (e) => {
    document.getElementById('avatarImage').src = e.target.value;
  });

  document.getElementById('inputUsername').addEventListener('input', (e) => {
    document.getElementById('username').textContent = e.target.value;
  });

  document.getElementById('inputTitle').addEventListener('input', (e) => {
    document.getElementById('postTitle').textContent = e.target.value;
  });

  document.getElementById('inputDescription').addEventListener('input', (e) => {
    document.getElementById('postDescription').textContent = e.target.value;
  });

  // ========== åˆå§‹åŒ– ==========
  renderCarousel();
  renderImageInputs();
</script>

</body>
</html>

